<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Document</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.2.0/foundation.min.css" />
		<link rel="stylesheet" href="css/jquery.sticky-footer.min.css">
		<link rel="stylesheet" href="css/style.css">
		</style>
	</head>
	<body>
		<div class="overlay">
			<header class="text-center">
				<h1><a href="" class="logo">What to do</a></h1>
			</header>
			<div class="row align-stretch">s
				<!-- start of custom search -->
				<div class="large-6 columns landing">

					<h2>Custom Search</h2>

					<form method="get" action="results.htm" >
						<label>Where are you?</label>
						<input type="text" placeholder="Enter postcode or town" aria-describedby="exampleHelpText">

						<label>How far can you travel?</label>

						<div class="slider-container">
							<div class="slider" data-slider data-initial-start="2" data-end="15" id="travelSlider">
								<span class="slider-handle"  data-slider-handle role="slider" tabindex="1" id="travelSliderVal"></span>
								<span class="slider-fill" data-slider-fill></span>
								<input type="hidden">
							</div>
						</div>

						<span class="slider-label value-travel">2 miles</span>

						<label>What's your budget?</label>
						<div class="slider-container">
							<div class="slider" data-slider data-initial-start="10" data-initial-end="50" id="budgetSlider">
								<span class="slider-handle" data-slider-handle role="slider" tabindex="1" id="budgetSliderMin"></span>
								<span class="slider-fill" data-slider-fill></span>
								<span class="slider-handle" data-slider-handle role="slider" tabindex="1" id="budgetSliderMax"></span>
								<input type="hidden">
								<input type="hidden">
							</div>
						</div>

							<span class="slider-label value-budget">£10 - £50</span>

							<input type="submit" value="Let's go" id="goBtn">
						<!-- end of custom search -->
					</form>
				</div>
				<!-- start of map search -->
				<div class="large-6 columns text-center landing">
					<h2>Search by region</h2>
					<label id="selectedRegion">North West</label>
					<object type="image/svg+xml" data="images/map_uk_blue.svg" class="mapUk center-block" id="mapUk"></object>

				</div>
				<!-- end of map search -->
			</div>
		</div>

		<footer class="text-center">
			<ul class="links">
				<li><a href="">Contact us</a></li>
				<li><a href="">About</a></li>
				<li><a href="">FAQ</a></li>
				<li><a href="">Terms and Conditions</a></li>
			</ul>
		</footer>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.2.0/foundation.min.js"></script>
		<script src="js/jquery-ui.js"></script>
		<script src="js/app.js"></script>
		<script>
			$(document).ready(function(){

				/**
				 *	Changes the label for the budget slider
				 */
				$("#budgetSlider").on("moved.zf.slider", function(){
					var from = $("#budgetSliderMin").attr("aria-valuenow");
					var to = $("#budgetSliderMax").attr("aria-valuenow");
					$(".value-budget").text("£" + from + " - £" + to);
				});

				/**
				 *	Changes the label for the travel slider
				 */
				$("#travelSlider").on("moved.zf.slider", function(){
					var value = $("#travelSliderVal").attr("aria-valuenow");
					$(".value-travel").text(value + " miles");
				});

				// Sets the fill of the handler to transparent
				$(".slider-fill").css("background-color", "transparent");

			});

			$(window).load(function(){

				// get the search location text box
				var selectedRegionTxt = document.getElementById("selectedRegion");

				// reference to the svg object
				var mapUkObject = document.getElementById("mapUk");

				// object to the svg content
				var svgUkMap = mapUkObject.contentDocument;

				mapUkObject.contentDocument.childNodes[0].setAttribute("viewBox", "-20 -200 923 1508");

				// all paths that make up svg
				var svgUkMapPaths = svgUkMap.getElementsByTagName("path");

				// all individual paths
				var walesPath = svgUkMap.getElementById("path6137");
				var scotlandPath = svgUkMap.getElementById("path2470");
				var northernIrelandPath = svgUkMap.getElementById("path6609");
				var southWestPath = svgUkMap.getElementById("path164");
				var southEastPath = svgUkMap.getElementById("path132");
				var londonPath = svgUkMap.getElementById("path152");
				var westMidlandsPath = svgUkMap.getElementById("path80");
				var eastMidlandsPath = svgUkMap.getElementById("path96");
				var eastOfEnglandPath = svgUkMap.getElementById("path84");
				var northWestPath = svgUkMap.getElementById("path24");
				var northEastPath = svgUkMap.getElementById("path20");
				var yorkshirePath = svgUkMap.getElementById("path36");
				var paths = [walesPath,scotlandPath,northernIrelandPath,southWestPath,southEastPath,londonPath,westMidlandsPath,eastMidlandsPath,eastOfEnglandPath,northWestPath,northEastPath,yorkshirePath];

				// path event handlers
				walesPath.onmouseover = function(){selectedRegionTxt.innerHTML = "Wales"}
				scotlandPath.onmouseover = function(){selectedRegionTxt.innerHTML = "Scotland"}
				northernIrelandPath.onmouseover = function(){selectedRegionTxt.innerHTML = "Northern Ireland"}
				southWestPath.onmouseover = function(){selectedRegionTxt.innerHTML = "South West"}
				southEastPath.onmouseover = function(){selectedRegionTxt.innerHTML = "South East"}
				londonPath.onmouseover = function(){selectedRegionTxt.innerHTML = "London"}
				westMidlandsPath.onmouseover = function(){selectedRegionTxt.innerHTML = "West Midlands"}
				eastMidlandsPath.onmouseover = function(){selectedRegionTxt.innerHTML = "East Midlands"}
				eastOfEnglandPath.onmouseover = function(){selectedRegionTxt.innerHTML = "East of England"}
				northWestPath.onmouseover = function(){selectedRegionTxt.innerHTML = "North West"}
				northEastPath.onmouseover = function(){selectedRegionTxt.innerHTML = "North East"}
				yorkshirePath.onmouseover = function(){selectedRegionTxt.innerHTML = "Yorkshire & Humber"}

				$(paths).on("mouseover", function(){
					$(this).css({
						"fill": "rgb(43,43,43)",
						"cursor": "pointer"
					});
				});

				//set mouse out hover states
				for(var i = 0; i < 12; i++){
					paths[i].onmouseout = function(){this.style.fill = "rgb(68,140,203)";}
				}
			});
		</script>
	</body>
</html>
